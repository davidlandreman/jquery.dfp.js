(function(e,t,n){"use strict";var r=this,i="",s=0,o=0,u=".adunit",a={},f=false,l,c="googleAdUnit",h=function(t,n,r){i=t;l=e(n);w();p(r);d();v()},p=function(n){var r=m();a={setTargeting:{inURL:r.inURL,URLIs:r.URLIs,Query:r.Query,Domain:t.location.host},enableSingleRequest:true,collapseEmptyDivs:"original",targetPlatform:"web",enableSyncRendering:false,refreshExisting:true};e.extend(true,a,n);if(a.googletag){t.googletag.cmd.push(function(){e.extend(t.googletag,a.googletag)})}},d=function(){l.each(function(){var n=e(this);s++;var r=y(n);var u=g(n,r,s);var f=b(n);var h=n.html();n.html("").addClass("display-none");t.googletag.cmd.push(function(){var p,d=n.data(c);if(d){p=d}else{if(n.data("outofpage")){p=t.googletag.defineOutOfPageSlot("/"+i+"/"+r,u).addService(t.googletag.pubads())}else{p=t.googletag.defineSlot("/"+i+"/"+r,f,u).addService(t.googletag.pubads())}}if(n.data("targeting")){e.each(n.data("targeting"),function(e,t){p.setTargeting(e,t)})}p.oldRenderEnded=p.oldRenderEnded||p.renderEnded;p.renderEnded=function(){o++;var t=n.css("display");if(t==="none"&&e.trim(h).length>0&&a.collapseEmptyDivs==="original"){n.show().html(h);t="block display-original"}n.removeClass("display-none").addClass("display-"+t);p.oldRenderEnded();n.trigger("adLoaded");if(o===s){l.trigger("allAdsLoaded")}};n.data(c,p)})});t.googletag.cmd.push(function(){if(a.enableSingleRequest===true){t.googletag.pubads().enableSingleRequest()}e.each(a.setTargeting,function(e,n){t.googletag.pubads().setTargeting(e,n)});if(a.collapseEmptyDivs===true||a.collapseEmptyDivs==="original"){t.googletag.pubads().collapseEmptyDivs()}t.googletag.enableServices()})},v=function(){l.each(function(){var n=e(this),r=n.data(c);if(a.refreshExisting&&r&&n.hasClass("display-block")){t.googletag.cmd.push(function(){t.googletag.pubads().refresh([r])})}else{t.googletag.cmd.push(function(){t.googletag.display(n.attr("id"))})}})},m=function(){var e=t.location.pathname.replace(/\/$/,""),n=new RegExp("/([^/]*)","ig"),r=e.match(n),i=["/"],s="";if(r&&e!=="/"){var o="",u=r.length;if(u>0){for(var a=0;a<u;a++){o=r[a];i.push(o);for(var f=a+1;f<u;f++){o+=r[f];i.push(o)}if(a===0){i.splice(-1,1);s=o}}}i.push(s)}i=i.reverse();var l=t.location.toString().replace(/\=/ig,":").match(/\?(.+)$/),c=RegExp.$1.split("&");return{inURL:i,URLIs:i[0],Query:c}},g=function(e,t,n){return e.attr("id")||e.attr("id",t+"-auto-gen-id-"+n).attr("id")},y=function(t){return t.data("adunit")||e("meta[name=dfp-adunit]").attr("content")||t.attr("id")},b=function(t){var n=[],r=t.data("dimensions");if(r){var i=r.split(",");e.each(i,function(e,t){var r=t.split("x");n.push([parseInt(r[0],10),parseInt(r[1],10)])})}else{n.push([t.width(),t.height()])}return n},w=function(){f=f||e('script[src*="googletagservices.com/tag/js/gpt.js"]').length;if(f){return}t.googletag=t.googletag||{};t.googletag.cmd=t.googletag.cmd||[];var n=document.createElement("script");n.async=true;n.type="text/javascript";n.onerror=function(){E()};var r="https:"===document.location.protocol;n.src=(r?"https:":"http:")+"//www.googletagservices.com/tag/js/gpt.js";var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(n,i);if(n.style.display==="none"){E()}},E=function(){var n=t.googletag.cmd;setTimeout(function(){t.googletag={cmd:{push:function(e){e.call(r)}},ads:[],pubads:function(){return this},enableSingleRequest:function(){return this},setTargeting:function(){return this},collapseEmptyDivs:function(){return this},enableServices:function(){return this},defineSlot:function(e,n,r){t.googletag.ads.push(r);t.googletag.ads[r]={renderEnded:function(){},addService:function(){return this}};return t.googletag.ads[r]},defineOutOfPageSlot:function(e,n){t.googletag.ads.push(n);t.googletag.ads[n]={renderEnded:function(){},addService:function(){return this}};return t.googletag.ads[n]},display:function(e){t.googletag.ads[e].renderEnded.call(r);return this}};e.each(n,function(e,n){t.googletag.cmd.push(n)})},50)};e(function(){var t=e("meta[name=dfp-id]").attr("content");var n={};e("body").trigger("beforeAdsLoad",n);h(t,u,n)})})(window.jQuery||window.Zepto||window.tire,window)